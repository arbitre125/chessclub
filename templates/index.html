{% extends 'base.html' %}
{% load static %}
{% block title %}{{ game }}{% endblock %}
{% block header %} 
<script src="{% static 'js/pgnvjs.js' %}" type="text/javascript"></script>
<!-- CSS used -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="{% static 'css/pgnvjs.css' %}">
{% endblock %}
{% load i18n %}
{% load league_tags %}
{% block content %}
<div class = "row py-1">
<div class = "col mr-2">
    <div class = "row">
        <!--<div class = "text-center" id = "wcc_logo"><img class="wcc_logo" src="{% static 'img/wcc_logo.png' %}"></div>-->
        <div class="text-center pb-2 w-100 py-1 position-relative">
            <img src = "{% static 'img/chess-2.jpg' %}" id="banner">
            <div class = "logo-overlay">
                <img src = "{% static 'img/wcc_logo.png' %}">
            </div>
        </div>

        <div class = "header"><i class="fas fa-chess-knight"></i> About Us</div>
        <div class = "news-body">
        Wallasey Chess Club is a member of the English Chess Federation, and is the biggest and friendliest chess club on the Wirral. We have many internal tournaments running throughout the year, and we have teams playing against other Clubs in both the Wirral and Merseyside Leagues - together with Cup competitions - so there is plenty of chess for everyone!
        New members are always welcome so please get in touch or just come down to the club one evening. Members are graded by the ECF every six months depending how they perform against other graded players. This gives some incentive in trying to improve oneâ€™s play as well as giving Team Captains the knowledge for managing their teams against the opposition.
        </div>
    </div>
    <div class = "row">
        <div class = "header">
            <i class="fas fa-rss"></i> Latest News
        </div>
        {% for n in news %}
            <div class = "news-item">
                <div class = "news-header">
                    {{n.title}}
                </div>
                <div class = "news-body">
                    {% if n.image %}
                    <img src="{{ n.image.url }}">
                    {% endif %}
                    
      {{ n.text|safe|truncatewords:"150" }}<a href="{% url 'news' %}">read more</a>
                </div>
                <div class = "news-footer">
                    Published on {{n.published_date}}
                </div>
            </div>
        {% endfor %}
    </div>
</div>
<div class = "col-md-4">
    <div class = "row">
            <div class = "header"><i class="fas fa-puzzle-piece"></i> Puzzle</div>
            <div class = "d-flex justify-content-center news-body">
               <div id="board" class='merida zeit'></div>
            </div>
            <script>
                var pgn = `[Event "?"]
[Site "?"]
[Date "????.??.??"]
[Round "?"]
[White "N.N."]
[Black "N.N."]
[Result "1-0"]
[Annotator "T1R"]
[SetUp "1"]
[FEN "2r2rk1/pp1bqpp1/2nppn1p/2p3N1/1bP5/1PN3P1/PBQPPPBP/3R1RK1 w - - 0 1"]
[PlyCount "5"]
[EventType "swiss"]

1. Nd5 exd5 (1... hxg5 2. Nxe7+ Nxe7) 2. Bxf6 hxg5 3. Bxe7 1-0`;
            var cfg = {pgn: pgn, position: "2r2rk1/pp1bqpp1/2nppn1p/2p3N1/1bP5/1PN3P1/PBQPPPBP/3R1RK1 w - - 0 1", showCoords: false, orientation: 'white', theme: 'default', pieceStyle: 'wikipedia', locale: 'en', timerTime: '', layout: 'top', showFen: false, coordsInner: false, headers: false, coordsFactor: '1.0', colorMarker: '', startPlay: '', hideMovesBefore: true, hideMovesAfter: true, notation: 'short', };
            var board = pgnTactic('board', cfg);

            </script> 
        </div>
    <div class = "row">
        <div class = "header"><i class="fas fa-calendar-alt"></i> Club Calendar</div>
            <div class = "calendar">
        {% for event in events %}
        <div class = "calendar-event">
            <table class = "calendar-event mr-2">
            <tr><td class = "calendar-day"> {{event.date|date:'D'}} </td><td class="px-2"> <a class="event-link" {% if event.link %} href = "{{event.link}}" {% endif %}>{{event.title}}</a> </td></tr>
            <tr><td class = "calendar-month"> {{event.date|date:'d-M'}} </td><td class = "px-2"> {% if event.location %} {{event.location}}, {% endif %}{{event.date|date:'H:i'}}</td></tr>
            </table>
        </div>
        {% endfor %}
            </div>
</div>
</div>
<!--
<img src = "{% static 'img/banner-chess.jpg' %}" class="w-75">
-->
{% endblock %}