{% load i18n %}
{% load league_tags %}
{% load user_agents %}
<div>
    <table class="table table-striped table-bordered table-hover">
      <thead>
          <tr>
            {% if useRounds == True %}
            <th class="text-center w-20"></th>
            {% endif %}
            <th class="text-center w-35"><i class="fas fa-chess"></i></th>
            <th class="text-center w-10">{% trans "Result" %}</th>
            <th class="text-center w-35"><i class="fas fa-chess"></i></th>
          </tr>
        </thead>
        <tbody>

        {% for date,fixtures in games.items %}

            {% if useRounds == True %}
            <th class="text-center tab" colspan=4>{{date}}</th>
            {% else %}
            <th class="text-center tab" colspan=3>{{date}}</th>
            {% endif %}
            {% for match in fixtures %}
            <tr>           
              {% if match.white and match.black %} 
              {% if useRounds == True %}
              <td class="text-center">{{match.date.date}}</td>
              {% endif %}    
                <td class="text-center"><a href="{% url 'player' match.white.id %}">{{match.white}}</a></td>
                <td class="text-center"><a href="{% url 'game' match.id %}">{{match.print_result|safe}}</a></td>
                <td class="text-center"><a href="{% url 'player' match.black.id %}">{{match.black}}</a></td>
              {% elif match.white %}
              {% if useRounds == True %}
              <td class="text-center">{{match.date.date}}</td>
              {% endif %}
              <td class="text-center"><a href="{% url 'player' match.white.id %}">{{match.white}}</a></td>
              <td class="text-center">{% if match.result == 1 %}Bye{% else %} - {% endif %}</a></td>
              <td></td>
              {% elif match.black %}
              {% if useRounds == True %}
              <td class="text-center">{{match.date.date}}</td>
              {% endif %}
              <td></td>
              <td class="text-center">{% if match.result == 2 %}Bye{% else %} - {% endif %}</a></td>
              <td class="text-center"><a href="{% url 'player' match.black.id %}">{{match.black}}</a></td>
              {% endif %}

            </tr>
            {% if match.comment %}
            <tr class="border-bottom-0">
            <td class="text-center small" colspan=4 hidden></td>
            </tr>
            <tr class = "py-0">
            {% if useRounds %}
            <td class="text-center small py-0" colspan=4>{{match.comment}}</td>
            {% else %}
            <td class="text-center small py-0" colspan=3>{{match.comment}}</td>
            {% endif %}
            </tr>
            {% endif %}

            {% endfor %}
        {% endfor %}

        </tbody>        
    </table>
</div>
